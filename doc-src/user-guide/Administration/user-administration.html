<div class="documentation-content">
          <h1>Security and Credential Management</h1>
          <h2>User Account Locking</h2>
          <p>Set a global account locking policy for users.</p>
          <p>Use the <a href="../Support and Maintenance/cli-configuration-tool.adoc">MSActivator CLI based configuration</a> at Web Portal configuration → Advanced Configuration to set the number of accepted login failures and the duration of the account lock.</p>
          <h2>User Password Expiration</h2>
          <p>Set a global password expiration policy and enforce user password updates on a regular basis.</p>
          <p>Use the <a href="../Support and Maintenance/cli-configuration-tool.adoc">MSActivator CLI based configuration</a> at JEntreprise configuration → General Configuration to set the user password validity in days.</p>
          <h2>User Password Policy</h2>
          <p>By default the password strength is not enforced in the customer portal but it's possible to define specific rules by customising the file CustomerBoardContent under /opt/ses/WebContent/operators/<trig>/content/</trig></p>
          <p>By default, no specific password policy is used:</p>
          <pre>password.use.specific.policy=0
          </pre>
          <p>but this can be enabled by setting the value to 1.</p>
          <pre>password.use.specific.policy=1
password.min.characters=8
password.min.lowercase=1
password.min.uppercase=1
password.min.digit=1
# Punctuation or special character among ^'&lt;&gt;{}"/|;:.,~!?@#$%^=&amp;*]()[_+
password.min.specials=1
          </pre>
          <p>Once configured, the policy can be applied by restarting the portal.</p>
          <pre>service tomcat restart
          </pre>
          <h3>Customization</h3>
          <p>The same configuration is available for a customized portal.</p>
          <h2>Password Recovery</h2>
          <p>Users who have forgotten their password can request a new one and get access to their account.</p>
          <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info">
            <span class="confluence-information-macro-icon"><i aria-hidden="true" class="fa fa-info"></i></span>
            <div class="confluence-information-macro-body">
              <p>The password recovery can only work if the user has provided a valid email in his profile and if the MSActivator has been properly configured to send email (see <a href="../Administration/Installation and Configuration/msactivator-installation-and-configuration-guide.adoc">MSActivator Installation and Configuration Guide</a>).</p>
            </div>
          </div>
          <h3>Login page</h3>
          <p>On the login page, available on custom UBI, click on "Forgot my password"</p>
          <h3>Support in a new customization</h3>
          <p>To enable password recovery for a new custom portal, the lines below should be included in Connection.jsp</p>
<pre>&lt;script type="text/javascript" src="&lt;%= request.getContextPath() %&gt;/script/prototype/prototype.js" &gt;&lt;/script&gt;</pre>
<pre>&lt;script type="text/javascript" src="&lt;%= request.getContextPath() %&gt;/script/ses/util.js" &gt;&lt;/script&gt;</pre>
<pre>&lt;script type="text/javascript" src="&lt;%= request.getContextPath() %&gt;/script/ses/resetPassword.js" &gt;&lt;/script&gt;</pre>
          <p>Create an HTML  label with an onClick event. User login should be passed as a parameter.</p>
<pre>&lt;label style="cursor:pointer;font-size: 12px;" onClick="resetPassword('&lt;%= request.getContextPath() %&gt;', document.getElementById('login_uname'));"&gt;Forgot Password ?&lt;/label&gt;</pre>
          <p>Add an HTML div to display a message that confirms that a mail was sent to the user. The div id should be "resetPasswordMsg.</p>
<pre>&lt;div id="resetPasswordMsg" style="display: none;"&gt;&lt;font style="font-family:Verdana,sans-serif;font-size:10pt;" &gt;A mail associated to this account has been sent to confirm your request&lt;/font&gt;&lt;/div&gt;</pre>

        </div>